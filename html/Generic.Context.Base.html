<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Generic.Context.Base</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">-- Generic context and basic proofs.</a>

<a id="39" class="Keyword">module</a> <a id="46" href="Generic.Context.Base.html" class="Module">Generic.Context.Base</a> <a id="67" class="Symbol">(</a><a id="68" href="Generic.Context.Base.html#68" class="Bound">Ty</a> <a id="71" class="Symbol">:</a> <a id="73" class="PrimitiveType">Set</a><a id="76" class="Symbol">)</a>  <a id="79" class="Keyword">where</a>

<a id="86" class="Keyword">open</a> <a id="91" class="Keyword">import</a> <a id="98" href="Data.List.html" class="Module">Data.List</a> <a id="108" class="Keyword">using</a> <a id="114" class="Symbol">(</a><a id="115" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="120" class="Symbol">;</a> <a id="122" href="Agda.Builtin.List.html#List._%E2%88%B7_" class="InductiveConstructor Operator">_∷_</a> <a id="126" class="Symbol">;</a> <a id="128" href="Data.List.Base.html#InitLast.%5B%5D" class="InductiveConstructor">[]</a> <a id="131" class="Symbol">;</a> <a id="133" href="Data.List.Base.html#_%2B%2B_" class="Function Operator">_++_</a><a id="137" class="Symbol">)</a> <a id="139" class="Keyword">public</a>

<a id="147" class="Comment">-- Ctx is a generic typing context, i.e., a list of types.</a>
<a id="Ctx" href="Generic.Context.Base.html#Ctx" class="Function">Ctx</a> <a id="210" class="Symbol">:</a> <a id="212" class="PrimitiveType">Set</a>
<a id="216" href="Generic.Context.Base.html#Ctx" class="Function">Ctx</a> <a id="220" class="Symbol">=</a> <a id="222" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="227" href="Generic.Context.Base.html#68" class="Bound">Ty</a>

<a id="231" class="Comment">-- (p : τ ∈ Γ) is a De Bruijn, i.e., an index that represents an</a>
<a id="296" class="Comment">-- unnamed variable of type τ that identifies an element of the</a>
<a id="360" class="Comment">-- context Γ by its position.</a>

<a id="391" class="Keyword">open</a> <a id="396" class="Keyword">import</a> <a id="403" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
<a id="441" class="Keyword">import</a> <a id="448" href="Data.List.Any.html" class="Module">Data.List.Any</a> <a id="462" class="Symbol">as</a> <a id="465" class="Module">A</a>
<a id="467" class="Keyword">open</a> <a id="472" class="Keyword">import</a> <a id="479" href="Data.List.Any.Membership.html" class="Module">Data.List.Any.Membership</a> <a id="504" class="Symbol">(</a><a id="505" href="Relation.Binary.PropositionalEquality.html#setoid" class="Function">setoid</a> <a id="512" href="Generic.Context.Base.html#68" class="Bound">Ty</a><a id="514" class="Symbol">)</a> <a id="516" class="Keyword">using</a> <a id="522" class="Symbol">(</a>_∈_ <a id="527" class="Symbol">)</a> <a id="529" class="Keyword">public</a>
<a id="536" class="Keyword">open</a> <a id="541" class="Keyword">import</a> <a id="548" href="Function.html" class="Module">Function</a>

<a id="558" class="Keyword">pattern</a> <a id="here" href="Generic.Context.Base.html#here" class="InductiveConstructor">here</a> <a id="571" class="Symbol">=</a> <a id="573" href="Data.List.Any.html#Any.here" class="InductiveConstructor">A.here</a> <a id="580" href="Agda.Builtin.Equality.html#_%E2%89%A1_.refl" class="InductiveConstructor">refl</a>
<a id="585" class="Keyword">pattern</a> <a id="there" href="Generic.Context.Base.html#there" class="InductiveConstructor">there</a> <a id="599" href="Generic.Context.Base.html#611" class="Bound">x</a> <a id="601" class="Symbol">=</a> <a id="603" href="Data.List.Any.html#Any.there" class="InductiveConstructor">A.there</a> <a id="611" href="Generic.Context.Base.html#611" class="Bound">x</a>

<a id="614" class="Comment">-- Subset relation for contexts.</a>
<a id="647" class="Keyword">data</a> <a id="_⊆_" href="Generic.Context.Base.html#_%E2%8A%86_" class="Datatype Operator">_⊆_</a> <a id="656" class="Symbol">:</a> <a id="658" href="Generic.Context.Base.html#Ctx" class="Function">Ctx</a> <a id="662" class="Symbol">→</a> <a id="664" href="Generic.Context.Base.html#Ctx" class="Function">Ctx</a> <a id="668" class="Symbol">→</a> <a id="670" class="PrimitiveType">Set</a> <a id="674" class="Keyword">where</a>
  <a id="_⊆_.base" href="Generic.Context.Base.html#_%E2%8A%86_.base" class="InductiveConstructor">base</a> <a id="687" class="Symbol">:</a> <a id="689" href="Agda.Builtin.List.html#List.%5B%5D" class="InductiveConstructor">[]</a> <a id="692" href="Generic.Context.Base.html#_%E2%8A%86_" class="Datatype Operator">⊆</a> <a id="694" href="Agda.Builtin.List.html#List.%5B%5D" class="InductiveConstructor">[]</a>
  <a id="_⊆_.cons" href="Generic.Context.Base.html#_%E2%8A%86_.cons" class="InductiveConstructor">cons</a> <a id="704" class="Symbol">:</a> <a id="706" class="Symbol">∀</a> <a id="708" class="Symbol">{</a><a id="709" href="Generic.Context.Base.html#709" class="Bound">τ</a> <a id="711" href="Generic.Context.Base.html#711" class="Bound">Γ₁</a> <a id="714" href="Generic.Context.Base.html#714" class="Bound">Γ₂</a><a id="716" class="Symbol">}</a> <a id="718" class="Symbol">→</a> <a id="720" href="Generic.Context.Base.html#711" class="Bound">Γ₁</a> <a id="723" href="Generic.Context.Base.html#_%E2%8A%86_" class="Datatype Operator">⊆</a> <a id="725" href="Generic.Context.Base.html#714" class="Bound">Γ₂</a> <a id="728" class="Symbol">→</a> <a id="730" class="Symbol">(</a><a id="731" href="Generic.Context.Base.html#709" class="Bound">τ</a> <a id="733" href="Agda.Builtin.List.html#List._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="735" href="Generic.Context.Base.html#711" class="Bound">Γ₁</a><a id="737" class="Symbol">)</a> <a id="739" href="Generic.Context.Base.html#_%E2%8A%86_" class="Datatype Operator">⊆</a> <a id="741" class="Symbol">(</a><a id="742" href="Generic.Context.Base.html#709" class="Bound">τ</a> <a id="744" href="Agda.Builtin.List.html#List._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="746" href="Generic.Context.Base.html#714" class="Bound">Γ₂</a><a id="748" class="Symbol">)</a>
  <a id="_⊆_.drop" href="Generic.Context.Base.html#_%E2%8A%86_.drop" class="InductiveConstructor">drop</a> <a id="757" class="Symbol">:</a> <a id="759" class="Symbol">∀</a> <a id="761" class="Symbol">{</a><a id="762" href="Generic.Context.Base.html#762" class="Bound">τ</a> <a id="764" href="Generic.Context.Base.html#764" class="Bound">Γ₁</a> <a id="767" href="Generic.Context.Base.html#767" class="Bound">Γ₂</a><a id="769" class="Symbol">}</a> <a id="771" class="Symbol">→</a> <a id="773" href="Generic.Context.Base.html#764" class="Bound">Γ₁</a> <a id="776" href="Generic.Context.Base.html#_%E2%8A%86_" class="Datatype Operator">⊆</a> <a id="778" href="Generic.Context.Base.html#767" class="Bound">Γ₂</a> <a id="781" class="Symbol">→</a> <a id="783" href="Generic.Context.Base.html#764" class="Bound">Γ₁</a> <a id="786" href="Generic.Context.Base.html#_%E2%8A%86_" class="Datatype Operator">⊆</a> <a id="788" class="Symbol">(</a><a id="789" href="Generic.Context.Base.html#762" class="Bound">τ</a> <a id="791" href="Agda.Builtin.List.html#List._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="793" href="Generic.Context.Base.html#767" class="Bound">Γ₂</a><a id="795" class="Symbol">)</a>

<a id="798" class="Keyword">infixr</a> <a id="805" class="Number">2</a> <a id="807" href="Generic.Context.Base.html#_%E2%8A%86_" class="Datatype Operator">_⊆_</a>

<a id="812" class="Comment">-- ⊆ is reflexive</a>
<a id="refl-⊆" href="Generic.Context.Base.html#refl-%E2%8A%86" class="Function">refl-⊆</a> <a id="837" class="Symbol">:</a> <a id="839" class="Symbol">∀</a> <a id="841" class="Symbol">{</a><a id="842" href="Generic.Context.Base.html#842" class="Bound">Γ</a> <a id="844" class="Symbol">:</a> <a id="846" href="Generic.Context.Base.html#Ctx" class="Function">Ctx</a><a id="849" class="Symbol">}</a> <a id="851" class="Symbol">→</a> <a id="853" href="Generic.Context.Base.html#842" class="Bound">Γ</a> <a id="855" href="Generic.Context.Base.html#_%E2%8A%86_" class="Datatype Operator">⊆</a> <a id="857" href="Generic.Context.Base.html#842" class="Bound">Γ</a>
<a id="859" href="Generic.Context.Base.html#refl-%E2%8A%86" class="Function">refl-⊆</a> <a id="866" class="Symbol">{</a><a id="867" href="Agda.Builtin.List.html#List.%5B%5D" class="InductiveConstructor">[]</a><a id="869" class="Symbol">}</a> <a id="871" class="Symbol">=</a> <a id="873" href="Generic.Context.Base.html#_%E2%8A%86_.base" class="InductiveConstructor">base</a>
<a id="878" href="Generic.Context.Base.html#refl-%E2%8A%86" class="Function">refl-⊆</a> <a id="885" class="Symbol">{</a><a id="886" href="Generic.Context.Base.html#886" class="Bound">τ</a> <a id="888" href="Agda.Builtin.List.html#List._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="890" href="Generic.Context.Base.html#890" class="Bound">Γ</a><a id="891" class="Symbol">}</a> <a id="893" class="Symbol">=</a> <a id="895" href="Generic.Context.Base.html#_%E2%8A%86_.cons" class="InductiveConstructor">cons</a> <a id="900" href="Generic.Context.Base.html#refl-%E2%8A%86" class="Function">refl-⊆</a>

<a id="908" class="Comment">-- Our inductive definition implies the standard definition of subset</a>
<a id="978" class="Comment">-- (Data.List.Any.Membership), but it is more convenient, e.g., for</a>
<a id="1046" class="Comment">-- shrinking environments.</a>
<a id="wken-∈" href="Generic.Context.Base.html#wken-%E2%88%88" class="Function">wken-∈</a> <a id="1080" class="Symbol">:</a> <a id="1082" class="Symbol">∀</a> <a id="1084" class="Symbol">{</a><a id="1085" href="Generic.Context.Base.html#1085" class="Bound">x</a><a id="1086" class="Symbol">}</a> <a id="1088" class="Symbol">{</a><a id="1089" href="Generic.Context.Base.html#1089" class="Bound">Γ₁</a> <a id="1092" class="Symbol">:</a> <a id="1094" href="Generic.Context.Base.html#Ctx" class="Function">Ctx</a><a id="1097" class="Symbol">}</a> <a id="1099" class="Symbol">{</a><a id="1100" href="Generic.Context.Base.html#1100" class="Bound">Γ₂</a> <a id="1103" class="Symbol">:</a> <a id="1105" href="Generic.Context.Base.html#Ctx" class="Function">Ctx</a><a id="1108" class="Symbol">}</a> <a id="1110" class="Symbol">→</a> <a id="1112" href="Generic.Context.Base.html#1089" class="Bound">Γ₁</a> <a id="1115" href="Generic.Context.Base.html#_%E2%8A%86_" class="Datatype Operator">⊆</a> <a id="1117" href="Generic.Context.Base.html#1100" class="Bound">Γ₂</a> <a id="1120" class="Symbol">→</a> <a id="1122" href="Generic.Context.Base.html#1085" class="Bound">x</a> <a id="1124" href="Data.List.Any.Membership.html#_%E2%88%88_" class="Function Operator">∈</a> <a id="1126" href="Generic.Context.Base.html#1089" class="Bound">Γ₁</a> <a id="1129" class="Symbol">→</a> <a id="1131" href="Generic.Context.Base.html#1085" class="Bound">x</a> <a id="1133" href="Data.List.Any.Membership.html#_%E2%88%88_" class="Function Operator">∈</a> <a id="1135" href="Generic.Context.Base.html#1100" class="Bound">Γ₂</a>
<a id="1138" href="Generic.Context.Base.html#wken-%E2%88%88" class="Function">wken-∈</a> <a id="1145" href="Generic.Context.Base.html#_%E2%8A%86_.base" class="InductiveConstructor">base</a> <a id="1150" class="Symbol">()</a>
<a id="1153" href="Generic.Context.Base.html#wken-%E2%88%88" class="Function">wken-∈</a> <a id="1160" class="Symbol">(</a><a id="1161" href="Generic.Context.Base.html#_%E2%8A%86_.cons" class="InductiveConstructor">cons</a> <a id="1166" href="Generic.Context.Base.html#1166" class="Bound">p</a><a id="1167" class="Symbol">)</a> <a id="1169" href="Generic.Context.Base.html#here" class="InductiveConstructor">here</a> <a id="1174" class="Symbol">=</a> <a id="1176" href="Generic.Context.Base.html#here" class="InductiveConstructor">here</a>
<a id="1181" href="Generic.Context.Base.html#wken-%E2%88%88" class="Function">wken-∈</a> <a id="1188" class="Symbol">(</a><a id="1189" href="Generic.Context.Base.html#_%E2%8A%86_.cons" class="InductiveConstructor">cons</a> <a id="1194" href="Generic.Context.Base.html#1194" class="Bound">p</a><a id="1195" class="Symbol">)</a> <a id="1197" class="Symbol">(</a><a id="1198" href="Generic.Context.Base.html#there" class="InductiveConstructor">there</a> <a id="1204" href="Generic.Context.Base.html#1204" class="Bound">q</a><a id="1205" class="Symbol">)</a> <a id="1207" class="Symbol">=</a> <a id="1209" href="Generic.Context.Base.html#there" class="InductiveConstructor">there</a> <a id="1215" class="Symbol">(</a><a id="1216" href="Generic.Context.Base.html#wken-%E2%88%88" class="Function">wken-∈</a> <a id="1223" href="Generic.Context.Base.html#1194" class="Bound">p</a> <a id="1225" href="Generic.Context.Base.html#1204" class="Bound">q</a><a id="1226" class="Symbol">)</a>
<a id="1228" href="Generic.Context.Base.html#wken-%E2%88%88" class="Function">wken-∈</a> <a id="1235" class="Symbol">(</a><a id="1236" href="Generic.Context.Base.html#_%E2%8A%86_.drop" class="InductiveConstructor">drop</a> <a id="1241" href="Generic.Context.Base.html#1241" class="Bound">p</a><a id="1242" class="Symbol">)</a> <a id="1244" href="Generic.Context.Base.html#1244" class="Bound">q</a> <a id="1246" class="Symbol">=</a> <a id="1248" href="Generic.Context.Base.html#there" class="InductiveConstructor">there</a> <a id="1254" class="Symbol">(</a><a id="1255" href="Generic.Context.Base.html#wken-%E2%88%88" class="Function">wken-∈</a> <a id="1262" href="Generic.Context.Base.html#1241" class="Bound">p</a> <a id="1264" href="Generic.Context.Base.html#1244" class="Bound">q</a><a id="1265" class="Symbol">)</a>

<a id="drop-⊆₂" href="Generic.Context.Base.html#drop-%E2%8A%86%E2%82%82" class="Function">drop-⊆₂</a> <a id="1276" class="Symbol">:</a> <a id="1278" class="Symbol">∀</a> <a id="1280" class="Symbol">(</a><a id="1281" href="Generic.Context.Base.html#1281" class="Bound">Γ₁</a> <a id="1284" href="Generic.Context.Base.html#1284" class="Bound">Γ₂</a> <a id="1287" class="Symbol">:</a> <a id="1289" href="Generic.Context.Base.html#Ctx" class="Function">Ctx</a><a id="1292" class="Symbol">)</a> <a id="1294" class="Symbol">-&gt;</a> <a id="1297" href="Generic.Context.Base.html#1281" class="Bound">Γ₁</a> <a id="1300" href="Generic.Context.Base.html#_%E2%8A%86_" class="Datatype Operator">⊆</a> <a id="1302" href="Generic.Context.Base.html#1284" class="Bound">Γ₂</a> <a id="1305" href="Data.List.Base.html#_%2B%2B_" class="Function Operator">++</a> <a id="1308" href="Generic.Context.Base.html#1281" class="Bound">Γ₁</a>
<a id="1311" href="Generic.Context.Base.html#drop-%E2%8A%86%E2%82%82" class="Function">drop-⊆₂</a> <a id="1319" href="Generic.Context.Base.html#1319" class="Bound">Γ₁</a> <a id="1322" href="Agda.Builtin.List.html#List.%5B%5D" class="InductiveConstructor">[]</a> <a id="1325" class="Symbol">=</a> <a id="1327" href="Generic.Context.Base.html#refl-%E2%8A%86" class="Function">refl-⊆</a>
<a id="1334" href="Generic.Context.Base.html#drop-%E2%8A%86%E2%82%82" class="Function">drop-⊆₂</a> <a id="1342" href="Generic.Context.Base.html#1342" class="Bound">Γ₁</a> <a id="1345" class="Symbol">(</a><a id="1346" href="Generic.Context.Base.html#1346" class="Bound">τ</a> <a id="1348" href="Agda.Builtin.List.html#List._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="1350" href="Generic.Context.Base.html#1350" class="Bound">Γ₂</a><a id="1352" class="Symbol">)</a> <a id="1354" class="Symbol">=</a> <a id="1356" href="Generic.Context.Base.html#_%E2%8A%86_.drop" class="InductiveConstructor">drop</a> <a id="1361" class="Symbol">(</a><a id="1362" href="Generic.Context.Base.html#drop-%E2%8A%86%E2%82%82" class="Function">drop-⊆₂</a> <a id="1370" href="Generic.Context.Base.html#1342" class="Bound">Γ₁</a> <a id="1373" href="Generic.Context.Base.html#1350" class="Bound">Γ₂</a><a id="1375" class="Symbol">)</a>
</pre></body></html>