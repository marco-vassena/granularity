<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Generic.Store.Base</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="Lattice.html" class="Module">Lattice</a>

<a id="22" class="Keyword">module</a> <a id="29" href="Generic.Store.Base.html" class="Module">Generic.Store.Base</a> <a id="48" class="Symbol">{{</a><a id="50" href="Generic.Store.Base.html#50" class="Bound">𝑳</a> <a id="52" class="Symbol">:</a> <a id="54" href="Lattice.html#Lattice" class="Function">Lattice</a><a id="61" class="Symbol">}}</a> <a id="64" class="Symbol">(</a><a id="65" href="Generic.Store.Base.html#65" class="Bound">Ty</a> <a id="68" class="Symbol">:</a> <a id="70" class="PrimitiveType">Set</a><a id="73" class="Symbol">)</a> <a id="75" class="Symbol">(</a><a id="76" href="Generic.Store.Base.html#76" class="Bound">Value</a> <a id="82" class="Symbol">:</a> <a id="84" href="Generic.Store.Base.html#65" class="Bound">Ty</a> <a id="87" class="Symbol">→</a> <a id="89" class="PrimitiveType">Set</a><a id="92" class="Symbol">)</a> <a id="94" class="Keyword">where</a>

<a id="101" class="Keyword">open</a> <a id="106" class="Keyword">import</a> <a id="113" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="122" class="Keyword">hiding</a> <a id="129" class="Symbol">(</a><a id="130" href="Data.Nat.Base.html#_%E2%89%9F_" class="Function Operator">_≟_</a><a id="133" class="Symbol">)</a>
<a id="135" class="Keyword">open</a> <a id="140" class="Keyword">import</a> <a id="147" href="Relation.Nullary.html" class="Module">Relation.Nullary</a>
<a id="164" class="Keyword">open</a> <a id="169" class="Keyword">import</a> <a id="176" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
<a id="214" class="Keyword">import</a> <a id="221" href="Level.html" class="Module">Level</a> <a id="227" class="Symbol">as</a> <a id="230" class="Module">L</a>

<a id="233" class="Comment">--------------------------------------------------------------------------------</a>
<a id="314" class="Comment">-- Labeled memory</a>

<a id="333" class="Comment">-- A memory is a list of closed terms..</a>
<a id="373" class="Comment">-- The label ℓ represents the sensitivity level of the terms contained in the memory.</a>
<a id="459" class="Keyword">data</a> <a id="Memory" href="Generic.Store.Base.html#Memory" class="Datatype">Memory</a> <a id="471" class="Symbol">(</a><a id="472" href="Generic.Store.Base.html#472" class="Bound">ℓ</a> <a id="474" class="Symbol">:</a> <a id="476" href="Lattice.Base.html#Label" class="Field">Label</a><a id="481" class="Symbol">)</a> <a id="483" class="Symbol">:</a> <a id="485" class="PrimitiveType">Set</a> <a id="489" class="Keyword">where</a>
  <a id="Memory.[]" href="Generic.Store.Base.html#Memory.%5B%5D" class="InductiveConstructor">[]</a> <a id="500" class="Symbol">:</a> <a id="502" href="Generic.Store.Base.html#Memory" class="Datatype">Memory</a> <a id="509" href="Generic.Store.Base.html#472" class="Bound">ℓ</a>
  <a id="Memory._∷_" href="Generic.Store.Base.html#Memory._%E2%88%B7_" class="InductiveConstructor Operator">_∷_</a> <a id="517" class="Symbol">:</a> <a id="519" class="Symbol">∀</a> <a id="521" class="Symbol">{</a><a id="522" href="Generic.Store.Base.html#522" class="Bound">τ</a><a id="523" class="Symbol">}</a> <a id="525" class="Symbol">→</a> <a id="527" class="Symbol">(</a><a id="528" href="Generic.Store.Base.html#528" class="Bound">v</a> <a id="530" class="Symbol">:</a> <a id="532" href="Generic.Store.Base.html#76" class="Bound">Value</a> <a id="538" href="Generic.Store.Base.html#522" class="Bound">τ</a><a id="539" class="Symbol">)</a> <a id="541" class="Symbol">(</a><a id="542" href="Generic.Store.Base.html#542" class="Bound">M</a> <a id="544" class="Symbol">:</a> <a id="546" href="Generic.Store.Base.html#Memory" class="Datatype">Memory</a> <a id="553" href="Generic.Store.Base.html#472" class="Bound">ℓ</a><a id="554" class="Symbol">)</a> <a id="556" class="Symbol">→</a> <a id="558" href="Generic.Store.Base.html#Memory" class="Datatype">Memory</a> <a id="565" href="Generic.Store.Base.html#472" class="Bound">ℓ</a>

<a id="568" class="Comment">-- Memory operations (read and write) reified as dependent types.</a>
<a id="634" class="Comment">-- Since these operations are partial, it is customary in Agda to</a>
<a id="700" class="Comment">-- exploit dependent types to encode only the well-defined behaviour,</a>
<a id="770" class="Comment">-- i.e., reading and writing to valid addresses.</a>

<a id="820" class="Comment">-- Lookupᴹ e n M is the proof that the n-th cell of the memory M</a>
<a id="885" class="Comment">-- contains labeled value e: M[ n ] = c</a>
<a id="925" class="Keyword">data</a> <a id="Lookupᴹ" href="Generic.Store.Base.html#Lookup%E1%B4%B9" class="Datatype">Lookupᴹ</a> <a id="938" class="Symbol">{</a><a id="939" href="Generic.Store.Base.html#939" class="Bound">ℓ</a> <a id="941" href="Generic.Store.Base.html#941" class="Bound">τ</a><a id="942" class="Symbol">}</a> <a id="944" class="Symbol">(</a><a id="945" href="Generic.Store.Base.html#945" class="Bound">v</a> <a id="947" class="Symbol">:</a> <a id="949" href="Generic.Store.Base.html#76" class="Bound">Value</a> <a id="955" href="Generic.Store.Base.html#941" class="Bound">τ</a><a id="956" class="Symbol">)</a> <a id="958" class="Symbol">:</a> <a id="960" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="962" class="Symbol">→</a> <a id="964" href="Generic.Store.Base.html#Memory" class="Datatype">Memory</a> <a id="971" href="Generic.Store.Base.html#939" class="Bound">ℓ</a> <a id="973" class="Symbol">→</a> <a id="975" class="PrimitiveType">Set</a> <a id="979" class="Keyword">where</a>
  <a id="Lookupᴹ.Here" href="Generic.Store.Base.html#Lookup%E1%B4%B9.Here" class="InductiveConstructor">Here</a> <a id="992" class="Symbol">:</a> <a id="994" class="Symbol">∀</a> <a id="996" class="Symbol">{</a><a id="997" href="Generic.Store.Base.html#997" class="Bound">M</a><a id="998" class="Symbol">}</a> <a id="1000" class="Symbol">→</a> <a id="1002" href="Generic.Store.Base.html#Lookup%E1%B4%B9" class="Datatype">Lookupᴹ</a> <a id="1010" href="Generic.Store.Base.html#945" class="Bound">v</a> <a id="1012" class="Number">0</a> <a id="1014" class="Symbol">(</a><a id="1015" href="Generic.Store.Base.html#945" class="Bound">v</a> <a id="1017" href="Generic.Store.Base.html#Memory._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="1019" href="Generic.Store.Base.html#997" class="Bound">M</a><a id="1020" class="Symbol">)</a>
  <a id="Lookupᴹ.There" href="Generic.Store.Base.html#Lookup%E1%B4%B9.There" class="InductiveConstructor">There</a> <a id="1030" class="Symbol">:</a> <a id="1032" class="Symbol">∀</a> <a id="1034" class="Symbol">{</a><a id="1035" href="Generic.Store.Base.html#1035" class="Bound">M</a> <a id="1037" href="Generic.Store.Base.html#1037" class="Bound">n</a> <a id="1039" href="Generic.Store.Base.html#1039" class="Bound">τ&#39;</a><a id="1041" class="Symbol">}</a> <a id="1043" class="Symbol">{</a><a id="1044" href="Generic.Store.Base.html#1044" class="Bound">v&#39;</a> <a id="1047" class="Symbol">:</a> <a id="1049" href="Generic.Store.Base.html#76" class="Bound">Value</a> <a id="1055" href="Generic.Store.Base.html#1039" class="Bound">τ&#39;</a><a id="1057" class="Symbol">}</a> <a id="1059" class="Symbol">→</a> <a id="1061" href="Generic.Store.Base.html#Lookup%E1%B4%B9" class="Datatype">Lookupᴹ</a> <a id="1069" href="Generic.Store.Base.html#945" class="Bound">v</a> <a id="1071" href="Generic.Store.Base.html#1037" class="Bound">n</a> <a id="1073" href="Generic.Store.Base.html#1035" class="Bound">M</a> <a id="1075" class="Symbol">→</a> <a id="1077" href="Generic.Store.Base.html#Lookup%E1%B4%B9" class="Datatype">Lookupᴹ</a> <a id="1085" href="Generic.Store.Base.html#945" class="Bound">v</a> <a id="1087" class="Symbol">(</a><a id="1088" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="1092" href="Generic.Store.Base.html#1037" class="Bound">n</a><a id="1093" class="Symbol">)</a> <a id="1095" class="Symbol">(</a><a id="1096" href="Generic.Store.Base.html#1044" class="Bound">v&#39;</a> <a id="1099" href="Generic.Store.Base.html#Memory._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="1101" href="Generic.Store.Base.html#1035" class="Bound">M</a><a id="1102" class="Symbol">)</a>

<a id="1105" class="Comment">-- Sytactic sugar for Lookupᴹ</a>
<a id="_↦_∈ᴹ_" href="Generic.Store.Base.html#_%E2%86%A6_%E2%88%88%E1%B4%B9_" class="Function Operator">_↦_∈ᴹ_</a> <a id="1142" class="Symbol">:</a> <a id="1144" class="Symbol">∀</a> <a id="1146" class="Symbol">{</a><a id="1147" href="Generic.Store.Base.html#1147" class="Bound">ℓ</a> <a id="1149" href="Generic.Store.Base.html#1149" class="Bound">τ</a><a id="1150" class="Symbol">}</a> <a id="1152" class="Symbol">→</a> <a id="1154" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="1156" class="Symbol">→</a> <a id="1158" href="Generic.Store.Base.html#76" class="Bound">Value</a> <a id="1164" href="Generic.Store.Base.html#1149" class="Bound">τ</a> <a id="1166" class="Symbol">→</a> <a id="1168" href="Generic.Store.Base.html#Memory" class="Datatype">Memory</a> <a id="1175" href="Generic.Store.Base.html#1147" class="Bound">ℓ</a> <a id="1177" class="Symbol">→</a> <a id="1179" class="PrimitiveType">Set</a>
<a id="1183" href="Generic.Store.Base.html#_%E2%86%A6_%E2%88%88%E1%B4%B9_" class="Function Operator">_↦_∈ᴹ_</a> <a id="1190" href="Generic.Store.Base.html#1190" class="Bound">n</a> <a id="1192" href="Generic.Store.Base.html#1192" class="Bound">v</a> <a id="1194" href="Generic.Store.Base.html#1194" class="Bound">M</a> <a id="1196" class="Symbol">=</a> <a id="1198" href="Generic.Store.Base.html#Lookup%E1%B4%B9" class="Datatype">Lookupᴹ</a> <a id="1206" href="Generic.Store.Base.html#1192" class="Bound">v</a> <a id="1208" href="Generic.Store.Base.html#1190" class="Bound">n</a> <a id="1210" href="Generic.Store.Base.html#1194" class="Bound">M</a>

<a id="1213" class="Comment">-- Writeᴹ v n M₁ M₂ is the proof that updating memory M₁ with v at</a>
<a id="1280" class="Comment">-- position n gives memory M₂: M₂ ≔ M₁ [ n ↦ v ]</a>
<a id="1329" class="Keyword">data</a> <a id="Writeᴹ" href="Generic.Store.Base.html#Write%E1%B4%B9" class="Datatype">Writeᴹ</a> <a id="1341" class="Symbol">{</a><a id="1342" href="Generic.Store.Base.html#1342" class="Bound">ℓ</a> <a id="1344" href="Generic.Store.Base.html#1344" class="Bound">τ</a><a id="1345" class="Symbol">}</a> <a id="1347" class="Symbol">(</a><a id="1348" href="Generic.Store.Base.html#1348" class="Bound">v</a> <a id="1350" class="Symbol">:</a> <a id="1352" href="Generic.Store.Base.html#76" class="Bound">Value</a> <a id="1358" href="Generic.Store.Base.html#1344" class="Bound">τ</a><a id="1359" class="Symbol">)</a> <a id="1361" class="Symbol">:</a> <a id="1363" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="1365" class="Symbol">→</a> <a id="1367" href="Generic.Store.Base.html#Memory" class="Datatype">Memory</a> <a id="1374" href="Generic.Store.Base.html#1342" class="Bound">ℓ</a> <a id="1376" class="Symbol">→</a> <a id="1378" href="Generic.Store.Base.html#Memory" class="Datatype">Memory</a> <a id="1385" href="Generic.Store.Base.html#1342" class="Bound">ℓ</a> <a id="1387" class="Symbol">→</a> <a id="1389" class="PrimitiveType">Set</a> <a id="1393" class="Keyword">where</a>
  <a id="Writeᴹ.Here" href="Generic.Store.Base.html#Write%E1%B4%B9.Here" class="InductiveConstructor">Here</a> <a id="1406" class="Symbol">:</a> <a id="1408" class="Symbol">∀</a> <a id="1410" class="Symbol">{</a><a id="1411" href="Generic.Store.Base.html#1411" class="Bound">M</a><a id="1412" class="Symbol">}</a> <a id="1414" class="Symbol">{</a><a id="1415" href="Generic.Store.Base.html#1415" class="Bound">v&#39;</a> <a id="1418" class="Symbol">:</a> <a id="1420" href="Generic.Store.Base.html#76" class="Bound">Value</a> <a id="1426" href="Generic.Store.Base.html#1344" class="Bound">τ</a><a id="1427" class="Symbol">}</a> <a id="1429" class="Symbol">→</a> <a id="1431" href="Generic.Store.Base.html#Write%E1%B4%B9" class="Datatype">Writeᴹ</a> <a id="1438" href="Generic.Store.Base.html#1348" class="Bound">v</a> <a id="1440" class="Number">0</a> <a id="1442" class="Symbol">(</a><a id="1443" href="Generic.Store.Base.html#1415" class="Bound">v&#39;</a> <a id="1446" href="Generic.Store.Base.html#Memory._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="1448" href="Generic.Store.Base.html#1411" class="Bound">M</a><a id="1449" class="Symbol">)</a> <a id="1451" class="Symbol">(</a><a id="1452" href="Generic.Store.Base.html#1348" class="Bound">v</a> <a id="1454" href="Generic.Store.Base.html#Memory._%E2%88%B7_" class="InductiveConstructor Operator">∷</a>  <a id="1457" href="Generic.Store.Base.html#1411" class="Bound">M</a><a id="1458" class="Symbol">)</a>
  <a id="Writeᴹ.There" href="Generic.Store.Base.html#Write%E1%B4%B9.There" class="InductiveConstructor">There</a> <a id="1468" class="Symbol">:</a> <a id="1470" class="Symbol">∀</a> <a id="1472" class="Symbol">{</a><a id="1473" href="Generic.Store.Base.html#1473" class="Bound">M</a> <a id="1475" href="Generic.Store.Base.html#1475" class="Bound">M&#39;</a> <a id="1478" href="Generic.Store.Base.html#1478" class="Bound">τ&#39;</a> <a id="1481" href="Generic.Store.Base.html#1481" class="Bound">n</a><a id="1482" class="Symbol">}</a> <a id="1484" class="Symbol">{</a><a id="1485" href="Generic.Store.Base.html#1485" class="Bound">v&#39;</a> <a id="1488" class="Symbol">:</a> <a id="1490" href="Generic.Store.Base.html#76" class="Bound">Value</a> <a id="1496" href="Generic.Store.Base.html#1478" class="Bound">τ&#39;</a><a id="1498" class="Symbol">}</a> <a id="1500" class="Symbol">→</a> <a id="1502" href="Generic.Store.Base.html#Write%E1%B4%B9" class="Datatype">Writeᴹ</a> <a id="1509" href="Generic.Store.Base.html#1348" class="Bound">v</a> <a id="1511" href="Generic.Store.Base.html#1481" class="Bound">n</a> <a id="1513" href="Generic.Store.Base.html#1473" class="Bound">M</a> <a id="1515" href="Generic.Store.Base.html#1475" class="Bound">M&#39;</a> <a id="1518" class="Symbol">→</a> <a id="1520" href="Generic.Store.Base.html#Write%E1%B4%B9" class="Datatype">Writeᴹ</a> <a id="1527" href="Generic.Store.Base.html#1348" class="Bound">v</a> <a id="1529" class="Symbol">(</a><a id="1530" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="1534" href="Generic.Store.Base.html#1481" class="Bound">n</a><a id="1535" class="Symbol">)</a> <a id="1537" class="Symbol">(</a><a id="1538" href="Generic.Store.Base.html#1485" class="Bound">v&#39;</a> <a id="1541" href="Generic.Store.Base.html#Memory._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="1543" href="Generic.Store.Base.html#1473" class="Bound">M</a><a id="1544" class="Symbol">)</a> <a id="1546" class="Symbol">(</a><a id="1547" href="Generic.Store.Base.html#1485" class="Bound">v&#39;</a> <a id="1550" href="Generic.Store.Base.html#Memory._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="1552" href="Generic.Store.Base.html#1475" class="Bound">M&#39;</a><a id="1554" class="Symbol">)</a>

<a id="1557" class="Comment">-- Syntactic sugar for Writeᴹ</a>
<a id="_≔_[_↦_]ᴹ" href="Generic.Store.Base.html#_%E2%89%94_%5B_%E2%86%A6_%5D%E1%B4%B9" class="Function Operator">_≔_[_↦_]ᴹ</a> <a id="1597" class="Symbol">:</a> <a id="1599" class="Symbol">∀</a> <a id="1601" class="Symbol">{</a><a id="1602" href="Generic.Store.Base.html#1602" class="Bound">ℓ</a> <a id="1604" href="Generic.Store.Base.html#1604" class="Bound">τ</a><a id="1605" class="Symbol">}</a> <a id="1607" class="Symbol">→</a> <a id="1609" href="Generic.Store.Base.html#Memory" class="Datatype">Memory</a> <a id="1616" href="Generic.Store.Base.html#1602" class="Bound">ℓ</a> <a id="1618" class="Symbol">→</a> <a id="1620" href="Generic.Store.Base.html#Memory" class="Datatype">Memory</a> <a id="1627" href="Generic.Store.Base.html#1602" class="Bound">ℓ</a> <a id="1629" class="Symbol">→</a> <a id="1631" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="1633" class="Symbol">→</a> <a id="1635" href="Generic.Store.Base.html#76" class="Bound">Value</a> <a id="1641" href="Generic.Store.Base.html#1604" class="Bound">τ</a> <a id="1643" class="Symbol">→</a> <a id="1645" class="PrimitiveType">Set</a>
<a id="1649" href="Generic.Store.Base.html#_%E2%89%94_%5B_%E2%86%A6_%5D%E1%B4%B9" class="Function Operator">_≔_[_↦_]ᴹ</a> <a id="1659" href="Generic.Store.Base.html#1659" class="Bound">M&#39;</a> <a id="1662" href="Generic.Store.Base.html#1662" class="Bound">M</a> <a id="1664" href="Generic.Store.Base.html#1664" class="Bound">n</a> <a id="1666" href="Generic.Store.Base.html#1666" class="Bound">v</a> <a id="1668" class="Symbol">=</a> <a id="1670" href="Generic.Store.Base.html#Write%E1%B4%B9" class="Datatype">Writeᴹ</a> <a id="1677" href="Generic.Store.Base.html#1666" class="Bound">v</a> <a id="1679" href="Generic.Store.Base.html#1664" class="Bound">n</a> <a id="1681" href="Generic.Store.Base.html#1662" class="Bound">M</a> <a id="1683" href="Generic.Store.Base.html#1659" class="Bound">M&#39;</a>

<a id="1687" class="Comment">-- snoc</a>
<a id="_∷ᴿ_" href="Generic.Store.Base.html#_%E2%88%B7%E1%B4%BF_" class="Function Operator">_∷ᴿ_</a> <a id="1700" class="Symbol">:</a> <a id="1702" class="Symbol">∀</a> <a id="1704" class="Symbol">{</a><a id="1705" href="Generic.Store.Base.html#1705" class="Bound">ℓ</a> <a id="1707" href="Generic.Store.Base.html#1707" class="Bound">τ</a><a id="1708" class="Symbol">}</a> <a id="1710" class="Symbol">→</a> <a id="1712" href="Generic.Store.Base.html#Memory" class="Datatype">Memory</a> <a id="1719" href="Generic.Store.Base.html#1705" class="Bound">ℓ</a> <a id="1721" class="Symbol">→</a> <a id="1723" href="Generic.Store.Base.html#76" class="Bound">Value</a> <a id="1729" href="Generic.Store.Base.html#1707" class="Bound">τ</a> <a id="1731" class="Symbol">→</a> <a id="1733" href="Generic.Store.Base.html#Memory" class="Datatype">Memory</a> <a id="1740" href="Generic.Store.Base.html#1705" class="Bound">ℓ</a>
<a id="1742" href="Generic.Store.Base.html#Memory.%5B%5D" class="InductiveConstructor">[]</a> <a id="1745" href="Generic.Store.Base.html#_%E2%88%B7%E1%B4%BF_" class="Function Operator">∷ᴿ</a> <a id="1748" href="Generic.Store.Base.html#1748" class="Bound">r</a>  <a id="1751" class="Symbol">=</a> <a id="1753" href="Generic.Store.Base.html#1748" class="Bound">r</a> <a id="1755" href="Generic.Store.Base.html#Memory._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="1757" href="Generic.Store.Base.html#Memory.%5B%5D" class="InductiveConstructor">[]</a>
<a id="1760" class="Symbol">(</a><a id="1761" href="Generic.Store.Base.html#1761" class="Bound">r₁</a> <a id="1764" href="Generic.Store.Base.html#Memory._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="1766" href="Generic.Store.Base.html#1766" class="Bound">M</a><a id="1767" class="Symbol">)</a> <a id="1769" href="Generic.Store.Base.html#_%E2%88%B7%E1%B4%BF_" class="Function Operator">∷ᴿ</a> <a id="1772" href="Generic.Store.Base.html#1772" class="Bound">r</a> <a id="1774" class="Symbol">=</a> <a id="1776" href="Generic.Store.Base.html#1761" class="Bound">r₁</a> <a id="1779" href="Generic.Store.Base.html#Memory._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="1781" class="Symbol">(</a><a id="1782" href="Generic.Store.Base.html#1766" class="Bound">M</a> <a id="1784" href="Generic.Store.Base.html#_%E2%88%B7%E1%B4%BF_" class="Function Operator">∷ᴿ</a> <a id="1787" href="Generic.Store.Base.html#1772" class="Bound">r</a><a id="1788" class="Symbol">)</a>

<a id="1791" class="Comment">-- ∥ M ∥ denotes the length of memory M.</a>
<a id="∥_∥" href="Generic.Store.Base.html#%E2%88%A5_%E2%88%A5" class="Function Operator">∥_∥</a> <a id="1836" class="Symbol">:</a> <a id="1838" class="Symbol">∀</a> <a id="1840" class="Symbol">{</a><a id="1841" href="Generic.Store.Base.html#1841" class="Bound">ℓ</a><a id="1842" class="Symbol">}</a> <a id="1844" class="Symbol">→</a> <a id="1846" href="Generic.Store.Base.html#Memory" class="Datatype">Memory</a> <a id="1853" href="Generic.Store.Base.html#1841" class="Bound">ℓ</a> <a id="1855" class="Symbol">→</a> <a id="1857" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a>
<a id="1859" href="Generic.Store.Base.html#%E2%88%A5_%E2%88%A5" class="Function Operator">∥</a> <a id="1861" href="Generic.Store.Base.html#Memory.%5B%5D" class="InductiveConstructor">[]</a> <a id="1864" href="Generic.Store.Base.html#%E2%88%A5_%E2%88%A5" class="Function Operator">∥</a>  <a id="1867" class="Symbol">=</a> <a id="1869" class="Number">0</a>
<a id="1871" href="Generic.Store.Base.html#%E2%88%A5_%E2%88%A5" class="Function Operator">∥</a> <a id="1873" class="Symbol">_</a> <a id="1875" href="Generic.Store.Base.html#Memory._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="1877" href="Generic.Store.Base.html#1877" class="Bound">M</a> <a id="1879" href="Generic.Store.Base.html#%E2%88%A5_%E2%88%A5" class="Function Operator">∥</a> <a id="1881" class="Symbol">=</a> <a id="1883" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="1887" href="Generic.Store.Base.html#%E2%88%A5_%E2%88%A5" class="Function Operator">∥</a> <a id="1889" href="Generic.Store.Base.html#1877" class="Bound">M</a> <a id="1891" href="Generic.Store.Base.html#%E2%88%A5_%E2%88%A5" class="Function Operator">∥</a>

<a id="1894" class="Keyword">infix</a> <a id="1900" class="Number">1</a> <a id="1902" href="Generic.Store.Base.html#%E2%88%A5_%E2%88%A5" class="Function Operator">∥_∥</a>

<a id="1907" class="Comment">--------------------------------------------------------------------------------</a>
<a id="1988" class="Comment">-- Store</a>

<a id="1998" class="Comment">-- A store is a mapping from labels to labeled memories.</a>
<a id="Store" href="Generic.Store.Base.html#Store" class="Function">Store</a> <a id="2061" class="Symbol">:</a> <a id="2063" class="PrimitiveType">Set</a>
<a id="2067" href="Generic.Store.Base.html#Store" class="Function">Store</a> <a id="2073" class="Symbol">=</a> <a id="2075" class="Symbol">(</a><a id="2076" href="Generic.Store.Base.html#2076" class="Bound">ℓ</a> <a id="2078" class="Symbol">:</a> <a id="2080" href="Lattice.Base.html#Label" class="Field">Label</a><a id="2085" class="Symbol">)</a> <a id="2087" class="Symbol">→</a> <a id="2089" href="Generic.Store.Base.html#Memory" class="Datatype">Memory</a> <a id="2096" href="Generic.Store.Base.html#2076" class="Bound">ℓ</a>

<a id="2099" class="Comment">-- Σ [ l ↦ M ]ˢ updates store Σ with l labeled memory M.</a>
<a id="_[_↦_]ˢ" href="Generic.Store.Base.html#_%5B_%E2%86%A6_%5D%CB%A2" class="Function Operator">_[_↦_]ˢ</a> <a id="2164" class="Symbol">:</a> <a id="2166" href="Generic.Store.Base.html#Store" class="Function">Store</a> <a id="2172" class="Symbol">-&gt;</a> <a id="2175" class="Symbol">(</a><a id="2176" href="Generic.Store.Base.html#2176" class="Bound">l</a> <a id="2178" class="Symbol">:</a> <a id="2180" href="Lattice.Base.html#Label" class="Field">Label</a><a id="2185" class="Symbol">)</a> <a id="2187" class="Symbol">-&gt;</a> <a id="2190" href="Generic.Store.Base.html#Memory" class="Datatype">Memory</a> <a id="2197" href="Generic.Store.Base.html#2176" class="Bound">l</a> <a id="2199" class="Symbol">-&gt;</a> <a id="2202" href="Generic.Store.Base.html#Store" class="Function">Store</a>
<a id="2208" href="Generic.Store.Base.html#_%5B_%E2%86%A6_%5D%CB%A2" class="Function Operator">_[_↦_]ˢ</a>  <a id="2217" href="Generic.Store.Base.html#2217" class="Bound">Σ</a> <a id="2219" href="Generic.Store.Base.html#2219" class="Bound">l</a> <a id="2221" href="Generic.Store.Base.html#2221" class="Bound">M</a> <a id="2223" href="Generic.Store.Base.html#2223" class="Bound">l&#39;</a> <a id="2226" class="Keyword">with</a> <a id="2231" href="Generic.Store.Base.html#2219" class="Bound">l</a> <a id="2233" href="Relation.Binary.html#_%E2%89%9F_" class="Function Operator">≟</a> <a id="2235" href="Generic.Store.Base.html#2223" class="Bound">l&#39;</a>
<a id="2238" href="Generic.Store.Base.html#_%5B_%E2%86%A6_%5D%CB%A2" class="Function Operator">_[_↦_]ˢ</a> <a id="2246" href="Generic.Store.Base.html#2246" class="Bound">Σ</a> <a id="2248" href="Generic.Store.Base.html#2248" class="Bound">l</a> <a id="2250" href="Generic.Store.Base.html#2250" class="Bound">M</a> <a id="2252" class="DottedPattern Symbol">.</a><a id="2253" href="Generic.Store.Base.html#2248" class="DottedPattern Bound">l</a> <a id="2255" class="Symbol">|</a> <a id="2257" href="Relation.Nullary.html#Dec.yes" class="InductiveConstructor">yes</a> <a id="2261" href="Agda.Builtin.Equality.html#_%E2%89%A1_.refl" class="InductiveConstructor">refl</a> <a id="2266" class="Symbol">=</a> <a id="2268" href="Generic.Store.Base.html#2250" class="Bound">M</a>
<a id="2270" href="Generic.Store.Base.html#_%5B_%E2%86%A6_%5D%CB%A2" class="Function Operator">_[_↦_]ˢ</a> <a id="2278" href="Generic.Store.Base.html#2278" class="Bound">Σ</a> <a id="2280" href="Generic.Store.Base.html#2280" class="Bound">l</a> <a id="2282" href="Generic.Store.Base.html#2282" class="Bound">M</a> <a id="2284" href="Generic.Store.Base.html#2284" class="Bound">l&#39;</a> <a id="2287" class="Symbol">|</a> <a id="2289" href="Relation.Nullary.html#Dec.no" class="InductiveConstructor">no</a> <a id="2292" href="Generic.Store.Base.html#2292" class="Bound">¬p</a> <a id="2295" class="Symbol">=</a> <a id="2297" href="Generic.Store.Base.html#2278" class="Bound">Σ</a> <a id="2299" href="Generic.Store.Base.html#2284" class="Bound">l&#39;</a>

<a id="2303" class="Comment">-- Empty store</a>
<a id="∅" href="Generic.Store.Base.html#%E2%88%85" class="Function">∅</a> <a id="2320" class="Symbol">:</a> <a id="2322" href="Generic.Store.Base.html#Store" class="Function">Store</a>
<a id="2328" href="Generic.Store.Base.html#%E2%88%85" class="Function">∅</a> <a id="2330" class="Symbol">_</a> <a id="2332" class="Symbol">=</a> <a id="2334" href="Generic.Store.Base.html#Memory.%5B%5D" class="InductiveConstructor">[]</a>

<a id="2338" class="Comment">-- Function extensionality (used for low-equivalence of stores)</a>
<a id="2402" class="Keyword">postulate</a> <a id="store-≡" href="Generic.Store.Base.html#store-%E2%89%A1" class="Postulate">store-≡</a> <a id="2420" class="Symbol">:</a> <a id="2422" href="Relation.Binary.PropositionalEquality.html#Extensionality" class="Function">Extensionality</a> <a id="2437" href="Agda.Primitive.html#zero" class="Primitive">L.zero</a> <a id="2444" href="Agda.Primitive.html#zero" class="Primitive">L.zero</a>
</pre></body></html>